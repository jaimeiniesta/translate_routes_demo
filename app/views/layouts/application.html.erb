<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <title><%= I18n.t 'title' %></title>
  <%= stylesheet_link_tag 'scaffold' %>
  <%= javascript_include_tag :defaults %>
</head>
<body onLoad="$$('.toggle-me').each(Element.hide);">

<div id="header">
  <div id="locale-switch">
    <strong><%= I18n.t 'current_locale' %>: <%= I18n.locale.to_s %></strong> |
    <%= I18n.locale == 'es' ? link_to('en', params.merge(:locale => 'en')) : link_to('es', params.merge(:locale => 'es')) %>
  </div>
  <div id="about">
    <a href="#" onclick="$('howto').toggle();"><%= I18n.t 'about_integration' %></a>
  </div>
</div>
<hr />
<div id="howto" class="toggle-me">
  <p>
    <%= I18n.t 'description' %><br />
  	<%= I18n.t 'key_files' %>:
  </p>
  <ul>
  	<li>
  	  <a href="#" onclick="$('routes_file').toggle();" >/config/routes.rb</a>: <%= I18n.t 'routes_file' %>
  	  <pre id="routes_file" class="code toggle-me">    ActionController::Routing::Translator.i18n</pre>
  	</li>
  	<li>
  	  <a href="#" onclick="$('app_controller').toggle();" >/app/controllers/application.rb</a>: <%= I18n.t 'app_controller' %>
      <pre id="app_controller" class="code toggle-me">    before_filter :set_locale_from_url</pre>
  	</li>
  	<li>
  	  <a href="#" onclick="$('routes_yml').toggle();" >/locales/i18n-routes.yml</a>: <%= I18n.t 'routes_yml' %>
      <pre id="routes_yml" class="code toggle-me">
      es:
        edit: editar
        new: crear
        users: usuarios</pre>
    </li>
  	<li>
  	  <a href="#" onclick="$('test_helper').toggle();" >/test/test_helper.rb</a>: <%= I18n.t 'test_helper' %>
  	  <pre id="test_helper" class="code toggle-me">
        # include default lang on your test requests (test requests doesn't support default_url_options):
        require 'translate_routes_test_helper'
      </pre>
  	</li>
  	<li>
  	  <a href="#" onclick="$('initializer').toggle();" >/config/initializers/i18n.rb</a>: <%= I18n.t 'initializer' %>
      <pre id="initializer" class="code toggle-me">
      require 'translate_routes_i18n_available_locales'
			</pre>
  	</li>
  </ul>
</div>
<h1><%= I18n.t('the_sample_app') %></h1>
<p style="color: green"><%= flash[:notice] %></p>

<%= yield  %>

</body>
</html>
